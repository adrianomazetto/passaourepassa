<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Passa ou Repassa - Brasil de Norte a Sul</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://css.gg/check-o.css" rel="stylesheet">
    <link href="https://css.gg/close-o.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, #009c3b, #ffdf00); /* Verde e amarelo do Brasil */
        }
        .buzzer-btn {
            transition: all 0.2s ease-in-out;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .buzzer-btn:active {
            transform: scale(0.95);
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }
        .buzzer-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .question-card {
            min-height: 200px; /* Garante altura mínima */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        .timer-critical {
            color: #ef4444; /* red-500 */
            animation: pulse 1s infinite;
        }
        .btn-active-glow {
            animation: glow 1.5s infinite alternate;
        }
        @keyframes pulse {
            0%, 100% {
                opacity: 1;
                transform: scale(1.05);
            }
            50% {
                opacity: 0.8;
                transform: scale(1);
            }
        }
        @keyframes glow {
            from {
                box-shadow: 0 0 5px #ffdf00, 0 0 10px #ffdf00, 0 0 15px #ffc300;
            }
            to {
                box-shadow: 0 0 10px #ffdf00, 0 0 20px #ffdf00, 0 0 30px #ffc300;
            }
        }
    </style>
</head>
<body class="text-gray-800 p-4 sm:p-6 md:p-8">

    <div id="game-container" class="max-w-4xl mx-auto bg-white/90 backdrop-blur-sm rounded-2xl shadow-2xl p-6 md:p-8">
        
        <!-- Cabeçalho -->
        <header class="text-center border-b-4 border-blue-600 pb-4 mb-6">
            <h1 class="text-4xl md:text-5xl font-black text-blue-800">Passa ou Repassa</h1>
            <p class="text-xl md:text-2xl font-bold text-gray-700">Brasil de Norte a Sul</p>
        </header>

        <!-- Placar e Timer -->
        <div class="grid grid-cols-3 gap-4 mb-6 text-center items-center">
            <div class="bg-blue-600 text-white p-4 rounded-lg shadow-md">
                <h2 class="text-xl font-bold mb-2">Equipe 1</h2>
                <p id="score-team-1" class="text-4xl font-black">0</p>
            </div>
            
            <div class="bg-gray-700 text-white p-4 rounded-lg shadow-lg">
                <h2 class="text-lg font-bold">TEMPO</h2>
                <p id="timer" class="text-5xl font-black">30</p>
            </div>

            <div class="bg-green-600 text-white p-4 rounded-lg shadow-md">
                <h2 class="text-xl font-bold mb-2">Equipe 2</h2>
                <p id="score-team-2" class="text-4xl font-black">0</p>
            </div>
        </div>

        <!-- Área da Pergunta -->
        <div id="question-area" class="bg-gray-100 p-6 rounded-lg shadow-inner mb-6 question-card">
            <h3 id="question-category" class="text-lg font-bold text-gray-500 mb-2">Categoria</h3>
            <p id="question-text" class="text-2xl md:text-3xl font-bold">Clique em "Nova Pergunta" para começar!</p>
            <div id="options-container" class="mt-6 w-full grid grid-cols-1 md:grid-cols-2 gap-4"></div>
        </div>

        <!-- Painel de Controle do Mediador -->
        <div id="mediator-controls" class="text-center mb-6 space-y-3">
             <div class="flex justify-center gap-4">
                 <button id="verify-answer-btn" class="bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-indigo-500 transition duration-200 w-full max-w-xs">Verificar Resposta</button>
             </div>
             <div class="grid grid-cols-2 gap-4">
                <button id="pass-btn" class="bg-gray-500 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-gray-400 transition duration-200">Passar a Vez</button>
                <button id="reveal-answer-btn" class="bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-400 transition duration-200">Revelar Resposta</button>
             </div>
        </div>

        <!-- Buzzers e Próxima Pergunta -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 items-center">
            <button id="buzzer-team-1" class="buzzer-btn bg-blue-600 text-white font-black text-2xl py-8 rounded-lg w-full h-full">EQUIPE 1</button>
            <button id="next-question-btn" class="bg-gray-800 text-white font-bold py-4 px-6 rounded-lg shadow-xl hover:bg-gray-700 transition duration-200 text-xl">Nova Pergunta</button>
            <button id="buzzer-team-2" class="buzzer-btn bg-green-600 text-white font-black text-2xl py-8 rounded-lg w-full h-full">EQUIPE 2</button>
        </div>

    </div>

    <!-- Modal de Fim de Jogo -->
    <div id="game-over-modal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center hidden">
        <div class="bg-white p-10 rounded-lg text-center shadow-xl">
            <h2 class="text-4xl font-black mb-4">Fim de Jogo!</h2>
            <p id="winner-text" class="text-2xl mb-6">O resultado é...</p>
            <button id="restart-btn" class="bg-yellow-500 text-gray-900 font-bold py-3 px-8 rounded-lg text-lg hover:bg-yellow-400">Jogar Novamente</button>
        </div>
    </div>


    <script>
        // --- BANCO DE PERGUNTAS ---
        const questions = [
            { category: "Gastronomia", question: "Qual o principal ingrediente do acarajé, prato típico da Bahia?", options: ["Feijão-fradinho", "Farinha de mandioca", "Grão de bico", "Milho"], answer: "Feijão-fradinho", bonus: false },
            { category: "Música e Dança", question: "O Frevo é um ritmo musical e uma dança tradicional de qual estado do Nordeste?", options: ["Bahia", "Ceará", "Pernambuco", "Alagoas"], answer: "Pernambuco", bonus: false },
            { category: "Folclore", question: "Qual personagem do folclore brasileiro tem os pés virados para trás para confundir os caçadores?", options: ["Saci-Pererê", "Curupira", "Boitatá", "Iara"], answer: "Curupira", bonus: false },
            { category: "Literatura", question: "Quem é o autor da famosa obra 'Grande Sertão: Veredas'?", options: ["Machado de Assis", "Jorge Amado", "João Guimarães Rosa", "Graciliano Ramos"], answer: "João Guimarães Rosa", bonus: false },
            { category: "Curiosidades", question: "Qual é o maior estado do Brasil em área territorial?", options: ["Mato Grosso", "Pará", "Minas Gerais", "Amazonas"], answer: "Amazonas", bonus: false },
            { category: "Gastronomia", question: "O pão de queijo é uma iguaria famosa de qual estado brasileiro?", options: ["São Paulo", "Rio de Janeiro", "Goiás", "Minas Gerais"], answer: "Minas Gerais", bonus: true },
            { category: "Música e Dança", question: "Qual o nome do maior festival folclórico a céu aberto do mundo, em Parintins, no Amazonas?", options: ["Carnaval de Salvador", "Festival de Parintins", "Rock in Rio", "Festa de Campina Grande"], answer: "Festival de Parintins", bonus: false },
            { category: "Folclore", question: "Que criatura mítica do folclore é conhecida como protetora das matas e dos animais?", options: ["Mula sem cabeça", "Lobisomem", "Caipora", "Negrinho do Pastoreio"], answer: "Caipora", bonus: false },
            { category: "Literatura", question: "Qual autor cearense escreveu 'O Quinze' e 'As Três Marias'?", options: ["José de Alencar", "Rachel de Queiroz", "Monteiro Lobato", "Clarice Lispector"], answer: "Rachel de Queiroz", bonus: false },
            { category: "Curiosidades", question: "A Usina Hidrelétrica de Itaipu está na fronteira do Brasil com qual país?", options: ["Argentina", "Uruguai", "Bolívia", "Paraguai"], answer: "Paraguai", bonus: false },
            { category: "Gastronomia", question: "Tacacá é uma sopa quente e exótica, muito popular em qual região do Brasil?", options: ["Região Sul", "Região Nordeste", "Região Norte", "Região Centro-Oeste"], answer: "Região Norte", bonus: false }
        ];

        // --- ELEMENTOS DO DOM ---
        const score1El = document.getElementById('score-team-1');
        const score2El = document.getElementById('score-team-2');
        const timerEl = document.getElementById('timer');
        const categoryEl = document.getElementById('question-category');
        const questionEl = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');

        const buzzer1Btn = document.getElementById('buzzer-team-1');
        const buzzer2Btn = document.getElementById('buzzer-team-2');
        const verifyAnswerBtn = document.getElementById('verify-answer-btn');
        const passBtn = document.getElementById('pass-btn');
        const revealAnswerBtn = document.getElementById('reveal-answer-btn');
        const nextQuestionBtn = document.getElementById('next-question-btn');
        
        const gameOverModal = document.getElementById('game-over-modal');
        const winnerText = document.getElementById('winner-text');
        const restartBtn = document.getElementById('restart-btn');

        // --- ESTADO DO JOGO ---
        let score1 = 0;
        let score2 = 0;
        let currentQuestionIndex = -1;
        let remainingQuestions = [...questions];
        let timerInterval;
        let timeLeft = 30;
        let activeTeam = null;
        let hasPassed = false;
        let selectedAnswer = null;

        // --- FUNÇÕES DE CONTROLE DO JOGO ---

        function updateScores() {
            score1El.textContent = score1;
            score2El.textContent = score2;
        }

        function resetTimer() {
            clearInterval(timerInterval);
            timeLeft = 30;
            timerEl.textContent = timeLeft;
            timerEl.classList.remove('timer-critical');
        }

        function startTimer() {
            resetTimer();
            timerInterval = setInterval(() => {
                timeLeft--;
                timerEl.textContent = timeLeft;
                if (timeLeft <= 10) {
                    timerEl.classList.add('timer-critical');
                }
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    timerEl.textContent = "0";
                    revealAnswer(); // O tempo acabou para todos
                }
            }, 1000);
        }

        function setInitialState() {
            resetTimer();
            updateScores();
            optionsContainer.innerHTML = '';
            buzzer1Btn.disabled = false;
            buzzer2Btn.disabled = false;
            verifyAnswerBtn.disabled = true;
            passBtn.disabled = true;
            revealAnswerBtn.disabled = false;
            activeTeam = null;
            hasPassed = false;
            selectedAnswer = null;
            categoryEl.textContent = "Categoria";
            questionEl.textContent = "Clique em 'Nova Pergunta' para começar!";
        }
        
        function handleBuzzer(team) {
            if (activeTeam) return;
            activeTeam = team;
            buzzer1Btn.disabled = true;
            buzzer2Btn.disabled = true;
            
            if (team === 1) {
                buzzer1Btn.style.transform = 'scale(1.1)';
                buzzer1Btn.style.boxShadow = '0 0 20px 5px rgba(255, 223, 0, 0.8)';
            } else {
                buzzer2Btn.style.transform = 'scale(1.1)';
                buzzer2Btn.style.boxShadow = '0 0 20px 5px rgba(255, 223, 0, 0.8)';
            }
        }

        function nextQuestion() {
            if (remainingQuestions.length === 0) {
                endGame();
                return;
            }

            buzzer1Btn.style.transform = 'scale(1)';
            buzzer1Btn.style.boxShadow = '0 5px 15px rgba(0,0,0,0.2)';
            buzzer2Btn.style.transform = 'scale(1)';
            buzzer2Btn.style.boxShadow = '0 5px 15px rgba(0,0,0,0.2)';
            
            setInitialState();

            const randomIndex = Math.floor(Math.random() * remainingQuestions.length);
            currentQuestionIndex = questions.indexOf(remainingQuestions[randomIndex]);
            const questionData = questions[currentQuestionIndex];
            remainingQuestions.splice(randomIndex, 1);

            let bonusText = questionData.bonus ? " (BÔNUS - Vale 2 pontos!)" : "";
            categoryEl.textContent = questionData.category + bonusText;
            questionEl.textContent = questionData.question;

            optionsContainer.innerHTML = '';
            questionData.options.forEach(option => {
                const optionButton = document.createElement('button');
                optionButton.className = 'bg-white p-4 rounded-lg border-2 border-gray-300 text-lg font-semibold hover:bg-gray-200 transition-colors text-left';
                optionButton.textContent = option;
                
                optionButton.addEventListener('click', () => {
                    if (!activeTeam) return;

                    const allButtons = optionsContainer.querySelectorAll('button');
                    allButtons.forEach(btn => btn.classList.remove('border-blue-500', 'ring-2', 'ring-blue-500'));

                    optionButton.classList.add('border-blue-500', 'ring-2', 'ring-blue-500');
                    selectedAnswer = optionButton.textContent;
                    verifyAnswerBtn.disabled = false;
                });

                optionsContainer.appendChild(optionButton);
            });

            startTimer();
        }
        
        function verifyAnswer() {
            if (!activeTeam || !selectedAnswer) return;

            verifyAnswerBtn.disabled = true;
            const correctAnswer = questions[currentQuestionIndex].answer;

            if (selectedAnswer === correctAnswer) {
                const points = questions[currentQuestionIndex].bonus ? 2 : 1;
                if (activeTeam === 1) {
                    score1 += points;
                } else {
                    score2 += points;
                }
                updateScores();
                revealAnswer();
            } else {
                if (!hasPassed) {
                    passBtn.disabled = false;
                } else {
                    revealAnswer();
                }
            }
        }
        
        function passTurn() {
            hasPassed = true;
            passBtn.disabled = true;
            verifyAnswerBtn.disabled = true;
            selectedAnswer = null;

            const allButtons = optionsContainer.querySelectorAll('button');
            allButtons.forEach(btn => btn.classList.remove('border-blue-500', 'ring-2', 'ring-blue-500'));
            
            activeTeam = activeTeam === 1 ? 2 : 1;
            
            buzzer1Btn.style.transform = activeTeam === 1 ? 'scale(1.1)' : 'scale(1)';
            buzzer1Btn.style.boxShadow = activeTeam === 1 ? '0 0 20px 5px rgba(255, 223, 0, 0.8)' : '0 5px 15px rgba(0,0,0,0.2)';
            buzzer2Btn.style.transform = activeTeam === 2 ? 'scale(1.1)' : 'scale(1)';
            buzzer2Btn.style.boxShadow = activeTeam === 2 ? '0 0 20px 5px rgba(255, 223, 0, 0.8)' : '0 5px 15px rgba(0,0,0,0.2)';
        }

        function revealAnswer() {
            resetTimer();
            verifyAnswerBtn.disabled = true;
            passBtn.disabled = true;

            const optionButtons = optionsContainer.querySelectorAll('button');
            const correctAnswer = questions[currentQuestionIndex].answer;

            optionButtons.forEach(button => {
                button.disabled = true;
                if (button.textContent === correctAnswer) {
                    button.classList.remove('bg-white', 'border-gray-300', 'hover:bg-gray-200', 'border-blue-500', 'ring-2', 'ring-blue-500');
                    button.classList.add('bg-green-500', 'text-white', 'border-green-700');
                } else {
                    button.classList.remove('hover:bg-gray-200');
                    button.classList.add('opacity-50');
                }
            });
        }

        function endGame() {
            let winnerMessage = "";
            if (score1 > score2) {
                winnerMessage = "A Equipe 1 é a grande vencedora!";
            } else if (score2 > score1) {
                winnerMessage = "A Equipe 2 é a grande vencedora!";
            } else {
                winnerMessage = "O jogo terminou em empate!";
            }
            winnerText.textContent = winnerMessage;
            gameOverModal.classList.remove('hidden');
        }

        function restartGame() {
            score1 = 0;
            score2 = 0;
            remainingQuestions = [...questions];
            gameOverModal.classList.add('hidden');
            nextQuestion();
        }

        // --- EVENT LISTENERS ---
        buzzer1Btn.addEventListener('click', () => handleBuzzer(1));
        buzzer2Btn.addEventListener('click', () => handleBuzzer(2));
        verifyAnswerBtn.addEventListener('click', verifyAnswer);
        passBtn.addEventListener('click', passTurn);
        revealAnswerBtn.addEventListener('click', revealAnswer);
        nextQuestionBtn.addEventListener('click', nextQuestion);
        restartBtn.addEventListener('click', restartGame);

        // --- INICIALIZAÇÃO ---
        setInitialState();
    </script>
</body>
</html>

